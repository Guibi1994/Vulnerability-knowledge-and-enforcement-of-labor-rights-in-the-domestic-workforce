# Utils


# 0. Libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(stringr)
library(googledrive)
library(googlesheets4)
options(scipen =  1000)

# Conetions
raw_data = "https://docs.google.com/spreadsheets/d/12Y2I-DBsfwJPKXRQvZ730ALZKfv2OcQjI8dxisFHxqY/edit?usp=sharing"
figures_drive = "R03. Domestic workers/06. Figures/"
data_lake  = "https://docs.google.com/spreadsheets/d/1sVkY7eYoVyOsw98Klzl6_03Zhi120QwGMM8lmXmJS8Q/edit?usp=sharing"


my_colors = c("lightskyblue2","lightskyblue3","deepskyblue4",
              "firebrick3","firebrick4")


# Functions

## 2.1. Save plots directly on drive
ggdrive_save <- function(
    drive_location,
    name,w,h) {
  # Description: This funtion exports an image to drive
  
  # a. Local saving
  ggplot2::ggsave(
    filename = name,
    width = w,
    height = h)
  # b. Drive saving
  googledrive::drive_upload(
    media = name,
    path = paste0(drive_location,name),
    overwrite = T)
  # c. Removign local file
  file.remove(name)
}
