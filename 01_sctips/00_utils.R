# Utils


# 0. Libraries ----
library(dplyr)
library(tidyr)
library(ggplot2)
library(stringr)
library(googledrive)
library(googlesheets4)
options(scipen =  1000)

# 1. Conetions ----
raw_data = "https://docs.google.com/spreadsheets/d/12Y2I-DBsfwJPKXRQvZ730ALZKfv2OcQjI8dxisFHxqY/edit?usp=sharing"
figures_drive = "R03. Domestic workers/06. Figures/"
data_lake  = "https://docs.google.com/spreadsheets/d/1sVkY7eYoVyOsw98Klzl6_03Zhi120QwGMM8lmXmJS8Q/edit?usp=sharing"


# 2. Fromats ----
my_colors = c("lightskyblue2","lightskyblue3","deepskyblue4",
              "firebrick3","firebrick4")



# 3. Ploting  -----

# 4. Complementary functions ----

## 4.1. Save plots directly on drive
ggdrive_save <- function(
    drive_location,
    name,w,h) {
  # Description: This funtion exports an image to drive
  
  # a. Local saving
  ggplot2::ggsave(
    filename = name,
    width = w,
    height = h)
  # b. Drive saving
  googledrive::drive_upload(
    media = name,
    path = paste0(drive_location,name),
    overwrite = T)
  # c. Removign local file
  file.remove(name)
}


# 5. References

## 5.1. Social security evaluation codes:

  # 00  social_security = seguridad social (agregado)
  # 01	maternity_leave = licencia de materindad
  # 02	contract = derecho a un contrato
  # 03	health_insurance = segúro médico
  # 04	retirement_pension = pensión
  # 05	occupational_risk_insurance = ARL
  # 06	severance_fund = cesantias
  # 07	service_bonus = prima
  # 08	vacation = vacaiones
  # 09	work_supplies = dotaición laboral
  # 10	transport_bonus = bono de transporte
  # 11	sick_leave = incapacidad
  # 12	union_rights = derechos colectivos
  # 13	compensation_fund = caja de compensación
  # 14	work_schedule = horarios de trabajo

## 5.2. Knlowdge levels

  # 0 = Dosen't know
  # 2 = Understaimation
  # 1 = Knows
  # 3 = Overstimation




  
